<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>给我最爱的人</title>
    <base href="./">
    <link rel="stylesheet" href="style.css">
    <style>
        .photo-container.loading::before {
            content: "图片加载中...";
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255,255,255,0.8);
            z-index: 2;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="heart-container">
            <div class="heart"></div>
        </div>
        
        <div class="content">
            <h1 class="title">我们的爱情故事</h1>
            <div class="photo-container">
                <div class="photo-frame">
                    <img id="current-photo" src="images/photo2.jpg" alt="我们的照片" 
                         onerror="this.onerror=null; this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'300\' height=\'200\' viewBox=\'0 0 300 200\'%3E%3Crect fill=\'%23f0f0f0\' width=\'300\' height=\'200\'/%3E%3Ctext fill=\'%23999\' font-family=\'sans-serif\' font-size=\'18\' x=\'50%25\' y=\'50%25\' text-anchor=\'middle\'%3E加载中...%3C/text%3E%3C/svg%3E'">
                </div>
            </div>
            
            <div class="message">
                <p id="love-message">点击心形，开始我们的旅程...</p>
            </div>
            
            <div class="controls">
                <button id="start-button">开始浏览</button>
            </div>
        </div>
    </div>

    <div class="floating-hearts"></div>
    
    <audio id="background-music" loop>
        <source src="music/这就是爱.mp3" type="audio/mp3">
    </audio>
    
    <script>
        if (window.location.hostname.includes('github.io')) {
            const pathSegments = window.location.pathname.split('/');
            const repoName = pathSegments[1];
            
            const baseEl = document.querySelector('base');
            if (baseEl && repoName) {
                baseEl.href = `/${repoName}/`;
            }
        }
    </script>
    <script src="script.js"></script>
</body>
</html> 